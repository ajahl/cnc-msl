<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MonitoringBoard: Main Control Loop</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MonitoringBoard
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#enumval-members">Enumerator</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Main Control Loop</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the main file of the firmware Here the necessary Functions to measure and scale Values, communicate and react are implemented.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1a329b3e30dfee7d342abb5ca42627c1"></a><!-- doxytag: member="main::TIMERCOUNTER" ref="ga1a329b3e30dfee7d342abb5ca42627c1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga1a329b3e30dfee7d342abb5ca42627c1">TIMERCOUNTER</a>&#160;&#160;&#160;TCNT0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">led test counter <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga92b6fba9f92d06d079d00bd6df3176d9"></a><!-- doxytag: member="main::TIMERCONTROL_B" ref="ga92b6fba9f92d06d079d00bd6df3176d9" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga92b6fba9f92d06d079d00bd6df3176d9">TIMERCONTROL_B</a>&#160;&#160;&#160;TCCR0B</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">prescaler led counter <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa267303b3341b8fb4d5229ef059d6c4b"></a><!-- doxytag: member="main::ACK_CAN" ref="gaa267303b3341b8fb4d5229ef059d6c4b" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gaa267303b3341b8fb4d5229ef059d6c4b">ACK_CAN</a>&#160;&#160;&#160;10</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ports are ranged from 0 to 7 --- 10 for ACK <br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga6ab162b1e79dfa43cf912730fd3ed292">portMeasureModes</a> { <br/>
&#160;&#160;<b>NOT_USED</b>, 
<b>Temp</b>, 
<b>Light</b>, 
<b>Vol</b>, 
<br/>
&#160;&#160;<b>Noise</b>, 
<b>Distance</b>, 
<b>Led</b>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">values interval when reaction is triggerd, without interval the relais jitters <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gab545e3759a48d23b39cd2d858b391003">sleep</a> (uint32_t val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sleep methode self-made sleep method for better timing  <a href="#gab545e3759a48d23b39cd2d858b391003"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaca4002ebd1dcbb1eff2ec63ee924892f"></a><!-- doxytag: member="main::initPorts" ref="gaca4002ebd1dcbb1eff2ec63ee924892f" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gaca4002ebd1dcbb1eff2ec63ee924892f">initPorts</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">init the ports used as in or output and init the ADC with 125 kHz <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacb3e16f99a51bb18c29e0668a8b0a75d"></a><!-- doxytag: member="main::initVoltageMultiplikator" ref="gacb3e16f99a51bb18c29e0668a8b0a75d" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gacb3e16f99a51bb18c29e0668a8b0a75d">initVoltageMultiplikator</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">init the multiplicator for the voltage calc 1, 5,24, or 111 for 400 V <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga11287b16260f611508b59bc017646b8b"></a><!-- doxytag: member="main::getTemp" ref="ga11287b16260f611508b59bc017646b8b" args="(void)" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga11287b16260f611508b59bc017646b8b">getTemp</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get the temperature measured with the temp-sensor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2c557028dbc226ddcf2e0a7957178c32"></a><!-- doxytag: member="main::getLightIntensity" ref="ga2c557028dbc226ddcf2e0a7957178c32" args="(void)" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32">getLightIntensity</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get the light intensity with a level of 0-100, 0 means its dark and 100 is very bright <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae80c6f2768f1758503261fbc18ee9eb7"></a><!-- doxytag: member="main::getNoise" ref="gae80c6f2768f1758503261fbc18ee9eb7" args="(void)" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7">getNoise</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get noise level with the mic sensor, with level 0-100 100 is very loud <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9d5a721bb90868a091edb6940bd7eb8d"></a><!-- doxytag: member="main::getDistance" ref="ga9d5a721bb90868a091edb6940bd7eb8d" args="(void)" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d">getDistance</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">get the distance to the next object near to the ultrasonic sensor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga66087cffe6c68fe543621343e8bcd751"></a><!-- doxytag: member="main::startMeasure" ref="ga66087cffe6c68fe543621343e8bcd751" args="(unsigned int X)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga66087cffe6c68fe543621343e8bcd751">startMeasure</a> (unsigned int X)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">measure voltage on port x <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga42a0809c7a977aba4306fadc6d779545"></a><!-- doxytag: member="main::measureAndScale" ref="ga42a0809c7a977aba4306fadc6d779545" args="(uint8_t port)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga42a0809c7a977aba4306fadc6d779545">measureAndScale</a> (uint8_t port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">use startMeasure to measure and scale with given scalingfactor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga6c19b333de1e78f3afe985109ed1af2f">getUnit</a> (uint8_t port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the value of the real unit e.g. Distance in cm from measure  <a href="#ga6c19b333de1e78f3afe985109ed1af2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga9ca6dd836cf0a0e07a41b388bab381ab">sendReactCAN</a> (uint8_t port, char HoL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">send a msg over CAN that the system has reacted format: Hn , Ln; H when switched off (relais high) and L when back on, n is the port  <a href="#ga9ca6dd836cf0a0e07a41b388bab381ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad2edb4f30990738fb53001fe0c0f4ee5"></a><!-- doxytag: member="main::reactOnMeasure" ref="gad2edb4f30990738fb53001fe0c0f4ee5" args="(uint8_t port)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gad2edb4f30990738fb53001fe0c0f4ee5">reactOnMeasure</a> (uint8_t port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">reacts on measured values e.g. by setting a port High or Low to switch the relais --- sends a Hn<br/>
 when set High Ln<br/>
 when Low, n is the port <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gad779a6805e18bdf90cf6b30e1bc8fd77">sendMeasureUART</a> (uint8_t port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">send measured data by uart Format: P:n;x y <br/>
 --- n = portnumber, x = value, y = unit  <a href="#gad779a6805e18bdf90cf6b30e1bc8fd77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gafca6601c8f57d250bd50f48913b2b72c">generateCANMsg</a> (<a class="el" href="structt_extended_c_a_n.html">tExtendedCAN</a> *M, uint8_t port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">generates a can message format: bits [0-5] value, bit[6] unit, bit [7] port  <a href="#gafca6601c8f57d250bd50f48913b2b72c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf04f40a07e81cb2ca26d3d8922664937"></a><!-- doxytag: member="main::readUARTConfig" ref="gaf04f40a07e81cb2ca26d3d8922664937" args="(unsigned char conf)" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>readUARTConfig</b> (unsigned char conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadc64e664206404b3c654bcd71d0e1d5e"></a><!-- doxytag: member="main::readUARTConfModes" ref="gadc64e664206404b3c654bcd71d0e1d5e" args="(unsigned char conf)" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>readUARTConfModes</b> (unsigned char conf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gaccfe82780d5e9861fc6f2fba3728b0c3">reactOnUARTCommand</a> (unsigned char c)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">reaction for given commands  <a href="#gaccfe82780d5e9861fc6f2fba3728b0c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gae488c7bb1766cf3e179e3b22946e71b0">reactOnCANCommand</a> (char *data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">reaction for given commands  <a href="#gae488c7bb1766cf3e179e3b22946e71b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac7781a37ca14c5bf42c4fe9de1f4daa8"></a><!-- doxytag: member="main::can_init" ref="gac7781a37ca14c5bf42c4fe9de1f4daa8" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gac7781a37ca14c5bf42c4fe9de1f4daa8">can_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize the can driver <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the main method with statemachine loop as follows: statemachine ----!!!  <a href="#ga840291bc02cba5474a4cb46a9b9566fe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaeca23ad01b13484c7312b200ed6784f5"></a><!-- doxytag: member="main::measuringVoltageFaktor" ref="gaeca23ad01b13484c7312b200ed6784f5" args="[8]" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gaeca23ad01b13484c7312b200ed6784f5">measuringVoltageFaktor</a> [8]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the scalings (1,5,26,111 to calc the voltage, 0 means no measurement. 400 -&gt; 111 as voltagefaktor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae5aef890ef31321222ea054aa00125bf"></a><!-- doxytag: member="main::voltageValueBuffer" ref="gae5aef890ef31321222ea054aa00125bf" args="[7]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gae5aef890ef31321222ea054aa00125bf">voltageValueBuffer</a> [7]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">char buffer for measure conversion in string <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga62e8e90e87e4843689cf8ddcf8aa8644"></a><!-- doxytag: member="main::measurement" ref="ga62e8e90e87e4843689cf8ddcf8aa8644" args="" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga62e8e90e87e4843689cf8ddcf8aa8644">measurement</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the measurement <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab340f4007d4f592c05d26af52abdd76a"></a><!-- doxytag: member="main::ledLastMeasure" ref="gab340f4007d4f592c05d26af52abdd76a" args="" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gab340f4007d4f592c05d26af52abdd76a">ledLastMeasure</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">led test last measure <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4087d222fc7fd5618b4ef683f759e4dd"></a><!-- doxytag: member="main::ledTick" ref="ga4087d222fc7fd5618b4ef683f759e4dd" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>ledTick</b> = 150</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac183334870c7d6b315d6eab9a63d36d2"></a><!-- doxytag: member="main::serialCommunikation" ref="gac183334870c7d6b315d6eab9a63d36d2" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gac183334870c7d6b315d6eab9a63d36d2">serialCommunikation</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">en-/disable serial line <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7931e0891699e412246d057cb3a3ec6d"></a><!-- doxytag: member="main::canCommunikation" ref="ga7931e0891699e412246d057cb3a3ec6d" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga7931e0891699e412246d057cb3a3ec6d">canCommunikation</a> = 1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">en-/disable can <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga48cf4117469613426debd4f85c460808"></a><!-- doxytag: member="main::ethCommunikation" ref="ga48cf4117469613426debd4f85c460808" args="" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga48cf4117469613426debd4f85c460808">ethCommunikation</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">en-/disable eternet line <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga57b981cfd8c3af7a1cdf90770f85aa8d"></a><!-- doxytag: member="main::portToRelais" ref="ga57b981cfd8c3af7a1cdf90770f85aa8d" args="[8]" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>portToRelais</b> [8]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga56c8fe85f8461ba0d291361c3a933870"></a><!-- doxytag: member="main::reactionValueMode" ref="ga56c8fe85f8461ba0d291361c3a933870" args="[8]" -->
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga56c8fe85f8461ba0d291361c3a933870">reactionValueMode</a> [8]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">which port korresponds to which relais to react <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8908e7ed7819607140342740d85e2b56"></a><!-- doxytag: member="main::reactionValues" ref="ga8908e7ed7819607140342740d85e2b56" args="[8]" -->
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga8908e7ed7819607140342740d85e2b56">reactionValues</a> [8]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">should be switched when measure is higher or lower val <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gac9e26f1cb437a223b2c28901d6e4df8b">portModeMeasure</a> []</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">modes how we can measure  <a href="#gac9e26f1cb437a223b2c28901d6e4df8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabf0863d719058ff6e45a37b5bcf04b48"></a><!-- doxytag: member="main::intervalValues" ref="gabf0863d719058ff6e45a37b5bcf04b48" args="[7]" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gabf0863d719058ff6e45a37b5bcf04b48">intervalValues</a> [7]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">which measure mode on specific port <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab3ee56c263833429c4f874777c7c8213"></a><!-- doxytag: member="main::distanceScale" ref="gab3ee56c263833429c4f874777c7c8213" args="" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#gab3ee56c263833429c4f874777c7c8213">distanceScale</a> = 250</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the specific relais-switch interval to handle relais jittering: Temp 1C, Light 7%, Vol 0,5, Distance 5cm <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga247b18b1a4a3625b0ff4f0792c8d1d3d"></a><!-- doxytag: member="main::heartBeat" ref="ga247b18b1a4a3625b0ff4f0792c8d1d3d" args="" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga247b18b1a4a3625b0ff4f0792c8d1d3d">heartBeat</a> = 180.0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Vcc/512 * 2,54 (inch -&gt; cm) <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4bd78858057f77134858778f80f12f48"></a><!-- doxytag: member="main::mea" ref="ga4bd78858057f77134858778f80f12f48" args="[200]" -->
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga4bd78858057f77134858778f80f12f48">mea</a> [200]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">standard beat 330 ms tune up to 1,5 s with poti <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad08068c1a902b6de5c7ff899e3a731fa"></a><!-- doxytag: member="main::loopCounter" ref="gad08068c1a902b6de5c7ff899e3a731fa" args="" -->
double&#160;</td><td class="memItemRight" valign="bottom"><b>loopCounter</b> = 0.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga46b9c288b9e05a095968531ed38f9877"></a><!-- doxytag: member="main::te" ref="ga46b9c288b9e05a095968531ed38f9877" args="[33]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__main.html#ga46b9c288b9e05a095968531ed38f9877">te</a> [33]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the counter for the inner measure loop <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This is the main file of the firmware Here the necessary Functions to measure and scale Values, communicate and react are implemented. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>christian schaub </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gafca6601c8f57d250bd50f48913b2b72c"></a><!-- doxytag: member="mBoard.h::generateCANMsg" ref="gafca6601c8f57d250bd50f48913b2b72c" args="(tExtendedCAN *M, uint8_t port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__main.html#gafca6601c8f57d250bd50f48913b2b72c">generateCANMsg</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt_extended_c_a_n.html">tExtendedCAN</a> *&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>generates a can message format: bits [0-5] value, bit[6] unit, bit [7] port </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pointer</td><td>to the message, port which is measured </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gafca6601c8f57d250bd50f48913b2b72c_cgraph.png" border="0" usemap="#group__main_gafca6601c8f57d250bd50f48913b2b72c_cgraph" alt=""/></div>
<map name="group__main_gafca6601c8f57d250bd50f48913b2b72c_cgraph" id="group__main_gafca6601c8f57d250bd50f48913b2b72c_cgraph">
<area shape="rect" id="node3" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32" title="get the light intensity with a level of 0&#45;100, 0 means its dark and 100 is very bright" alt="" coords="183,5,300,35"/><area shape="rect" id="node5" href="group__main.html#ga11287b16260f611508b59bc017646b8b" title="get the temperature measured with the temp&#45;sensor" alt="" coords="205,59,277,88"/><area shape="rect" id="node7" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7" title="get noise level with the mic sensor, with level 0&#45;100 100 is very loud" alt="" coords="204,112,279,141"/><area shape="rect" id="node9" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d" title="get the distance to the next object near to the ultrasonic sensor" alt="" coords="196,165,287,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gafca6601c8f57d250bd50f48913b2b72c_icgraph.png" border="0" usemap="#group__main_gafca6601c8f57d250bd50f48913b2b72c_icgraph" alt=""/></div>
<map name="group__main_gafca6601c8f57d250bd50f48913b2b72c_icgraph" id="group__main_gafca6601c8f57d250bd50f48913b2b72c_icgraph">
<area shape="rect" id="node3" href="group__main.html#gae488c7bb1766cf3e179e3b22946e71b0" title="reaction for given commands" alt="" coords="181,5,339,35"/><area shape="rect" id="node5" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="387,32,437,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6c19b333de1e78f3afe985109ed1af2f"></a><!-- doxytag: member="mBoard.h::getUnit" ref="ga6c19b333de1e78f3afe985109ed1af2f" args="(uint8_t port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="group__main.html#ga6c19b333de1e78f3afe985109ed1af2f">getUnit</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calculate the value of the real unit e.g. Distance in cm from measure </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>port which was measured </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>recalculated measurement </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_ga6c19b333de1e78f3afe985109ed1af2f_cgraph.png" border="0" usemap="#group__main_ga6c19b333de1e78f3afe985109ed1af2f_cgraph" alt=""/></div>
<map name="group__main_ga6c19b333de1e78f3afe985109ed1af2f_cgraph" id="group__main_ga6c19b333de1e78f3afe985109ed1af2f_cgraph">
<area shape="rect" id="node3" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32" title="get the light intensity with a level of 0&#45;100, 0 means its dark and 100 is very bright" alt="" coords="119,5,236,35"/><area shape="rect" id="node5" href="group__main.html#ga11287b16260f611508b59bc017646b8b" title="get the temperature measured with the temp&#45;sensor" alt="" coords="141,59,213,88"/><area shape="rect" id="node7" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7" title="get noise level with the mic sensor, with level 0&#45;100 100 is very loud" alt="" coords="140,112,215,141"/><area shape="rect" id="node9" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d" title="get the distance to the next object near to the ultrasonic sensor" alt="" coords="132,165,223,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_ga6c19b333de1e78f3afe985109ed1af2f_icgraph.png" border="0" usemap="#group__main_ga6c19b333de1e78f3afe985109ed1af2f_icgraph" alt=""/></div>
<map name="group__main_ga6c19b333de1e78f3afe985109ed1af2f_icgraph" id="group__main_ga6c19b333de1e78f3afe985109ed1af2f_icgraph">
<area shape="rect" id="node3" href="group__main.html#gad2edb4f30990738fb53001fe0c0f4ee5" title="reacts on measured values e.g. by setting a port High or Low to switch the relais &#45;&#45;&#45; sends a Hn &#160;whe..." alt="" coords="119,5,236,35"/><area shape="rect" id="node5" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="285,5,336,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="mBoard.h::main" ref="ga840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the main method with statemachine loop as follows: statemachine ----!!! </p>
<p>enable interrupts</p>
<p>init ports</p>
<p>init scalings</p>
<p>init uart</p>
<p>welcome message uart</p>
<p>init can</p>
<p>CS12 1 CS11 0 CS10 1 clkI/O/1024 (From prescaler)</p>
<p>main loop</p>
<p>toggle status led</p>
<p>the measure loop</p>
<p>measure required ??</p>
<p>reaction required ??</p>
<p>led check required ??</p>
<p>-1 is the initial value</p>
<p>check the status of the led with the light sensor</p>
<p>check uart commands and send data by uart when activated</p>
<p>reaction required ??</p>
<p>measure required ??</p>
<p>check can commands and send data when activated</p>
<p>recalculate the heartBeat if the poti port is measured </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_ga840291bc02cba5474a4cb46a9b9566fe_cgraph.png" border="0" usemap="#group__main_ga840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="group__main_ga840291bc02cba5474a4cb46a9b9566fe_cgraph" id="group__main_ga840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" id="node3" href="group__main.html#gaca4002ebd1dcbb1eff2ec63ee924892f" title="init the ports used as in or output and init the ADC with 125 kHz" alt="" coords="152,5,221,35"/><area shape="rect" id="node5" href="group__main.html#gacb3e16f99a51bb18c29e0668a8b0a75d" title="init the multiplicator for the voltage calc 1, 5,24, or 111 for 400 V" alt="" coords="111,59,263,88"/><area shape="rect" id="node7" href="group__uart.html#gac19a76bb7d446125734a67f9f4b68991" title="Initialize UART and set baudrate." alt="" coords="153,112,220,141"/><area shape="rect" id="node9" href="group__uart.html#gae52facc0a56086a365bb0018160d8d71" title="Put string to ringbuffer for transmitting via UART." alt="" coords="344,327,419,356"/><area shape="rect" id="node11" href="group__main.html#gac7781a37ca14c5bf42c4fe9de1f4daa8" title="initialize the can driver" alt="" coords="153,373,220,403"/><area shape="rect" id="node14" href="group__main.html#ga42a0809c7a977aba4306fadc6d779545" title="use startMeasure to measure and scale with given scalingfactor" alt="" coords="123,165,251,195"/><area shape="rect" id="node18" href="group__main.html#gad2edb4f30990738fb53001fe0c0f4ee5" title="reacts on measured values e.g. by setting a port High or Low to switch the relais &#45;&#45;&#45; sends a Hn &#160;whe..." alt="" coords="128,219,245,248"/><area shape="rect" id="node31" href="group__uart.html#gad975221bc08b901e4c7ad69f9c9a97e2" title="Put byte to ringbuffer for transmitting via UART." alt="" coords="344,273,419,303"/><area shape="rect" id="node35" href="group__uart.html#gaefaab30a8338ec46a6be35b99b1b4f09" title="Get received byte from ringbuffer." alt="" coords="344,636,419,665"/><area shape="rect" id="node37" href="group__main.html#gaccfe82780d5e9861fc6f2fba3728b0c3" title="reaction for given commands" alt="" coords="104,584,269,613"/><area shape="rect" id="node42" href="group__main.html#gad779a6805e18bdf90cf6b30e1bc8fd77" title="send measured data by uart Format: P:n;x y &#160;&#160;&#45;&#45;&#45; n = portnumber, x = value, y = unit" alt="" coords="119,427,255,456"/><area shape="rect" id="node50" href="group__main.html#gae488c7bb1766cf3e179e3b22946e71b0" title="reaction for given commands" alt="" coords="108,480,265,509"/><area shape="rect" id="node52" href="group__main.html#gafca6601c8f57d250bd50f48913b2b72c" title="generates a can message format: bits [0&#45;5] value, bit[6] unit, bit [7] port" alt="" coords="319,532,444,561"/><area shape="rect" id="node16" href="group__main.html#ga66087cffe6c68fe543621343e8bcd751" title="measure voltage on port x" alt="" coords="332,113,431,143"/><area shape="rect" id="node20" href="group__main.html#ga6c19b333de1e78f3afe985109ed1af2f" title="calculate the value of the real unit e.g. Distance in cm from measure" alt="" coords="349,167,413,196"/><area shape="rect" id="node33" href="group__main.html#ga9ca6dd836cf0a0e07a41b388bab381ab" title="send a msg over CAN that the system has reacted format: Hn , Ln; H when switched off (relais high) an..." alt="" coords="324,220,439,249"/><area shape="rect" id="node22" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32" title="get the light intensity with a level of 0&#45;100, 0 means its dark and 100 is very bright" alt="" coords="495,375,612,404"/><area shape="rect" id="node24" href="group__main.html#ga11287b16260f611508b59bc017646b8b" title="get the temperature measured with the temp&#45;sensor" alt="" coords="517,428,589,457"/><area shape="rect" id="node26" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7" title="get noise level with the mic sensor, with level 0&#45;100 100 is very loud" alt="" coords="516,481,591,511"/><area shape="rect" id="node28" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d" title="get the distance to the next object near to the ultrasonic sensor" alt="" coords="508,535,599,564"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae488c7bb1766cf3e179e3b22946e71b0"></a><!-- doxytag: member="mBoard.h::reactOnCANCommand" ref="gae488c7bb1766cf3e179e3b22946e71b0" args="(char *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__main.html#gae488c7bb1766cf3e179e3b22946e71b0">reactOnCANCommand</a> </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reaction for given commands </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>command given by can </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gae488c7bb1766cf3e179e3b22946e71b0_cgraph.png" border="0" usemap="#group__main_gae488c7bb1766cf3e179e3b22946e71b0_cgraph" alt=""/></div>
<map name="group__main_gae488c7bb1766cf3e179e3b22946e71b0_cgraph" id="group__main_gae488c7bb1766cf3e179e3b22946e71b0_cgraph">
<area shape="rect" id="node3" href="group__main.html#gafca6601c8f57d250bd50f48913b2b72c" title="generates a can message format: bits [0&#45;5] value, bit[6] unit, bit [7] port" alt="" coords="212,85,337,115"/><area shape="rect" id="node13" href="group__uart.html#gae52facc0a56086a365bb0018160d8d71" title="Put string to ringbuffer for transmitting via UART." alt="" coords="237,139,312,168"/><area shape="rect" id="node5" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32" title="get the light intensity with a level of 0&#45;100, 0 means its dark and 100 is very bright" alt="" coords="388,5,505,35"/><area shape="rect" id="node7" href="group__main.html#ga11287b16260f611508b59bc017646b8b" title="get the temperature measured with the temp&#45;sensor" alt="" coords="411,59,483,88"/><area shape="rect" id="node9" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7" title="get noise level with the mic sensor, with level 0&#45;100 100 is very loud" alt="" coords="409,112,484,141"/><area shape="rect" id="node11" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d" title="get the distance to the next object near to the ultrasonic sensor" alt="" coords="401,165,492,195"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gae488c7bb1766cf3e179e3b22946e71b0_icgraph.png" border="0" usemap="#group__main_gae488c7bb1766cf3e179e3b22946e71b0_icgraph" alt=""/></div>
<map name="group__main_gae488c7bb1766cf3e179e3b22946e71b0_icgraph" id="group__main_gae488c7bb1766cf3e179e3b22946e71b0_icgraph">
<area shape="rect" id="node3" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="211,5,261,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaccfe82780d5e9861fc6f2fba3728b0c3"></a><!-- doxytag: member="mBoard.h::reactOnUARTCommand" ref="gaccfe82780d5e9861fc6f2fba3728b0c3" args="(unsigned char c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__main.html#gaccfe82780d5e9861fc6f2fba3728b0c3">reactOnUARTCommand</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reaction for given commands </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>command given by uart </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_cgraph.png" border="0" usemap="#group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_cgraph" alt=""/></div>
<map name="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_cgraph" id="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_cgraph">
<area shape="rect" id="node3" href="group__uart.html#gae52facc0a56086a365bb0018160d8d71" title="Put string to ringbuffer for transmitting via UART." alt="" coords="220,5,295,35"/><area shape="rect" id="node5" href="group__uart.html#gaefaab30a8338ec46a6be35b99b1b4f09" title="Get received byte from ringbuffer." alt="" coords="220,59,295,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_icgraph.png" border="0" usemap="#group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_icgraph" alt=""/></div>
<map name="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_icgraph" id="group__main_gaccfe82780d5e9861fc6f2fba3728b0c3_icgraph">
<area shape="rect" id="node3" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="219,5,269,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad779a6805e18bdf90cf6b30e1bc8fd77"></a><!-- doxytag: member="mBoard.h::sendMeasureUART" ref="gad779a6805e18bdf90cf6b30e1bc8fd77" args="(uint8_t port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__main.html#gad779a6805e18bdf90cf6b30e1bc8fd77">sendMeasureUART</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>send measured data by uart Format: P:n;x y <br/>
 --- n = portnumber, x = value, y = unit </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>to measure </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_cgraph.png" border="0" usemap="#group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_cgraph" alt=""/></div>
<map name="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_cgraph" id="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_cgraph">
<area shape="rect" id="node3" href="group__main.html#ga2c557028dbc226ddcf2e0a7957178c32" title="get the light intensity with a level of 0&#45;100, 0 means its dark and 100 is very bright" alt="" coords="193,5,311,35"/><area shape="rect" id="node5" href="group__main.html#ga11287b16260f611508b59bc017646b8b" title="get the temperature measured with the temp&#45;sensor" alt="" coords="216,59,288,88"/><area shape="rect" id="node7" href="group__main.html#gae80c6f2768f1758503261fbc18ee9eb7" title="get noise level with the mic sensor, with level 0&#45;100 100 is very loud" alt="" coords="215,112,289,141"/><area shape="rect" id="node9" href="group__main.html#ga9d5a721bb90868a091edb6940bd7eb8d" title="get the distance to the next object near to the ultrasonic sensor" alt="" coords="207,165,297,195"/><area shape="rect" id="node11" href="group__uart.html#gae52facc0a56086a365bb0018160d8d71" title="Put string to ringbuffer for transmitting via UART." alt="" coords="215,219,289,248"/><area shape="rect" id="node13" href="group__uart.html#gad975221bc08b901e4c7ad69f9c9a97e2" title="Put byte to ringbuffer for transmitting via UART." alt="" coords="215,272,289,301"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_icgraph.png" border="0" usemap="#group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_icgraph" alt=""/></div>
<map name="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_icgraph" id="group__main_gad779a6805e18bdf90cf6b30e1bc8fd77_icgraph">
<area shape="rect" id="node3" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="192,5,243,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9ca6dd836cf0a0e07a41b388bab381ab"></a><!-- doxytag: member="mBoard.h::sendReactCAN" ref="ga9ca6dd836cf0a0e07a41b388bab381ab" args="(uint8_t port, char HoL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__main.html#ga9ca6dd836cf0a0e07a41b388bab381ab">sendReactCAN</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>HoL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>send a msg over CAN that the system has reacted format: Hn , Ln; H when switched off (relais high) and L when back on, n is the port </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>port, high or low (H,L) </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__main_ga9ca6dd836cf0a0e07a41b388bab381ab_icgraph.png" border="0" usemap="#group__main_ga9ca6dd836cf0a0e07a41b388bab381ab_icgraph" alt=""/></div>
<map name="group__main_ga9ca6dd836cf0a0e07a41b388bab381ab_icgraph" id="group__main_ga9ca6dd836cf0a0e07a41b388bab381ab_icgraph">
<area shape="rect" id="node3" href="group__main.html#gad2edb4f30990738fb53001fe0c0f4ee5" title="reacts on measured values e.g. by setting a port High or Low to switch the relais &#45;&#45;&#45; sends a Hn &#160;whe..." alt="" coords="169,5,287,35"/><area shape="rect" id="node5" href="group__main.html#ga840291bc02cba5474a4cb46a9b9566fe" title="the main method with statemachine loop as follows: statemachine &#45;&#45;&#45;&#45;!!!" alt="" coords="336,5,387,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab545e3759a48d23b39cd2d858b391003"></a><!-- doxytag: member="mBoard.h::sleep" ref="gab545e3759a48d23b39cd2d858b391003" args="(uint32_t val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="group__main.html#gab545e3759a48d23b39cd2d858b391003">sleep</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sleep methode self-made sleep method for better timing </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">the</td><td>val in ms of sleeping </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gac9e26f1cb437a223b2c28901d6e4df8b"></a><!-- doxytag: member="mBoard.h::portModeMeasure" ref="gac9e26f1cb437a223b2c28901d6e4df8b" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="group__main.html#gac9e26f1cb437a223b2c28901d6e4df8b">portModeMeasure</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {Temp, 
                Light,
                Distance,
                Vol,
                Distance,
                Distance,
                Vol,
                0}
</pre></div>
<p>modes how we can measure </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 20 2013 11:28:09 for MonitoringBoard by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
