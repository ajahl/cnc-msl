   1               		.file	"uart.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	__vector_20
  11               	__vector_20:
  12 0000 1F92      		push __zero_reg__
  13 0002 0F92      		push r0
  14 0004 0FB6      		in r0,__SREG__
  15 0006 0F92      		push r0
  16 0008 1124      		clr __zero_reg__
  17 000a 2F93      		push r18
  18 000c 8F93      		push r24
  19 000e 9F93      		push r25
  20 0010 EF93      		push r30
  21 0012 FF93      		push r31
  22               	/* prologue: Signal */
  23               	/* frame size = 0 */
  24               	/* stack size = 8 */
  25               	.L__stack_usage = 8
  26 0014 8091 C000 		lds r24,192
  27 0018 9091 C600 		lds r25,198
  28 001c E091 0000 		lds r30,UART_RxHead
  29 0020 EF5F      		subi r30,lo8(-(1))
  30 0022 EF71      		andi r30,lo8(31)
  31 0024 2091 0000 		lds r18,UART_RxTail
  32 0028 E217      		cp r30,r18
  33 002a 01F0      		breq .L3
  34 002c 8871      		andi r24,lo8(24)
  35 002e E093 0000 		sts UART_RxHead,r30
  36 0032 F0E0      		ldi r31,lo8(0)
  37 0034 E050      		subi r30,lo8(-(UART_RxBuf))
  38 0036 F040      		sbci r31,hi8(-(UART_RxBuf))
  39 0038 9083      		st Z,r25
  40 003a 00C0      		rjmp .L2
  41               	.L3:
  42 003c 82E0      		ldi r24,lo8(2)
  43               	.L2:
  44 003e 8093 0000 		sts UART_LastRxError,r24
  45               	/* epilogue start */
  46 0042 FF91      		pop r31
  47 0044 EF91      		pop r30
  48 0046 9F91      		pop r25
  49 0048 8F91      		pop r24
  50 004a 2F91      		pop r18
  51 004c 0F90      		pop r0
  52 004e 0FBE      		out __SREG__,r0
  53 0050 0F90      		pop r0
  54 0052 1F90      		pop __zero_reg__
  55 0054 1895      		reti
  57               	.global	__vector_21
  59               	__vector_21:
  60 0056 1F92      		push __zero_reg__
  61 0058 0F92      		push r0
  62 005a 0FB6      		in r0,__SREG__
  63 005c 0F92      		push r0
  64 005e 1124      		clr __zero_reg__
  65 0060 8F93      		push r24
  66 0062 9F93      		push r25
  67 0064 EF93      		push r30
  68 0066 FF93      		push r31
  69               	/* prologue: Signal */
  70               	/* frame size = 0 */
  71               	/* stack size = 7 */
  72               	.L__stack_usage = 7
  73 0068 9091 0000 		lds r25,UART_TxHead
  74 006c 8091 0000 		lds r24,UART_TxTail
  75 0070 9817      		cp r25,r24
  76 0072 01F0      		breq .L5
  77 0074 E091 0000 		lds r30,UART_TxTail
  78 0078 EF5F      		subi r30,lo8(-(1))
  79 007a EF70      		andi r30,lo8(15)
  80 007c E093 0000 		sts UART_TxTail,r30
  81 0080 F0E0      		ldi r31,lo8(0)
  82 0082 E050      		subi r30,lo8(-(UART_TxBuf))
  83 0084 F040      		sbci r31,hi8(-(UART_TxBuf))
  84 0086 8081      		ld r24,Z
  85 0088 8093 C600 		sts 198,r24
  86 008c 00C0      		rjmp .L4
  87               	.L5:
  88 008e 8091 C100 		lds r24,193
  89 0092 8F7D      		andi r24,lo8(-33)
  90 0094 8093 C100 		sts 193,r24
  91               	.L4:
  92               	/* epilogue start */
  93 0098 FF91      		pop r31
  94 009a EF91      		pop r30
  95 009c 9F91      		pop r25
  96 009e 8F91      		pop r24
  97 00a0 0F90      		pop r0
  98 00a2 0FBE      		out __SREG__,r0
  99 00a4 0F90      		pop r0
 100 00a6 1F90      		pop __zero_reg__
 101 00a8 1895      		reti
 103               	.global	uart_init
 105               	uart_init:
 106               	/* prologue: function */
 107               	/* frame size = 0 */
 108               	/* stack size = 0 */
 109               	.L__stack_usage = 0
 110 00aa 1092 0000 		sts UART_TxHead,__zero_reg__
 111 00ae 1092 0000 		sts UART_TxTail,__zero_reg__
 112 00b2 1092 0000 		sts UART_RxHead,__zero_reg__
 113 00b6 1092 0000 		sts UART_RxTail,__zero_reg__
 114 00ba 97FF      		sbrs r25,7
 115 00bc 00C0      		rjmp .L8
 116 00be 22E0      		ldi r18,lo8(2)
 117 00c0 2093 C000 		sts 192,r18
 118               	.L8:
 119 00c4 292F      		mov r18,r25
 120 00c6 2078      		andi r18,lo8(-128)
 121 00c8 2093 C500 		sts 197,r18
 122 00cc 8093 C400 		sts 196,r24
 123 00d0 88E9      		ldi r24,lo8(-104)
 124 00d2 8093 C100 		sts 193,r24
 125 00d6 86E0      		ldi r24,lo8(6)
 126 00d8 8093 C200 		sts 194,r24
 127               	/* epilogue start */
 128 00dc 0895      		ret
 130               	.global	uart_getc
 132               	uart_getc:
 133               	/* prologue: function */
 134               	/* frame size = 0 */
 135               	/* stack size = 0 */
 136               	.L__stack_usage = 0
 137 00de 9091 0000 		lds r25,UART_RxHead
 138 00e2 8091 0000 		lds r24,UART_RxTail
 139 00e6 9817      		cp r25,r24
 140 00e8 01F0      		breq .L11
 141 00ea E091 0000 		lds r30,UART_RxTail
 142 00ee EF5F      		subi r30,lo8(-(1))
 143 00f0 EF71      		andi r30,lo8(31)
 144 00f2 E093 0000 		sts UART_RxTail,r30
 145 00f6 F0E0      		ldi r31,lo8(0)
 146 00f8 E050      		subi r30,lo8(-(UART_RxBuf))
 147 00fa F040      		sbci r31,hi8(-(UART_RxBuf))
 148 00fc 8081      		ld r24,Z
 149 00fe 9091 0000 		lds r25,UART_LastRxError
 150 0102 392F      		mov r19,r25
 151 0104 20E0      		ldi r18,lo8(0)
 152 0106 280F      		add r18,r24
 153 0108 311D      		adc r19,__zero_reg__
 154 010a 00C0      		rjmp .L10
 155               	.L11:
 156 010c 20E0      		ldi r18,lo8(256)
 157 010e 31E0      		ldi r19,hi8(256)
 158               	.L10:
 159 0110 C901      		movw r24,r18
 160               	/* epilogue start */
 161 0112 0895      		ret
 163               	.global	uart_putc
 165               	uart_putc:
 166               	/* prologue: function */
 167               	/* frame size = 0 */
 168               	/* stack size = 0 */
 169               	.L__stack_usage = 0
 170 0114 9091 0000 		lds r25,UART_TxHead
 171 0118 9F5F      		subi r25,lo8(-(1))
 172 011a 9F70      		andi r25,lo8(15)
 173               	.L13:
 174 011c 2091 0000 		lds r18,UART_TxTail
 175 0120 9217      		cp r25,r18
 176 0122 01F0      		breq .L13
 177 0124 E92F      		mov r30,r25
 178 0126 F0E0      		ldi r31,lo8(0)
 179 0128 E050      		subi r30,lo8(-(UART_TxBuf))
 180 012a F040      		sbci r31,hi8(-(UART_TxBuf))
 181 012c 8083      		st Z,r24
 182 012e 9093 0000 		sts UART_TxHead,r25
 183 0132 8091 C100 		lds r24,193
 184 0136 8062      		ori r24,lo8(32)
 185 0138 8093 C100 		sts 193,r24
 186               	/* epilogue start */
 187 013c 0895      		ret
 189               	.global	uart_puts
 191               	uart_puts:
 192 013e EF92      		push r14
 193 0140 FF92      		push r15
 194 0142 CF93      		push r28
 195 0144 DF93      		push r29
 196               	/* prologue: function */
 197               	/* frame size = 0 */
 198               	/* stack size = 4 */
 199               	.L__stack_usage = 4
 200 0146 E82E      		mov r14,r24
 201 0148 E701      		movw r28,r14
 202 014a 7E01      		movw r14,r28
 203 014c F92E      		mov r15,r25
 204 014e E701      		movw r28,r14
 205 0150 00C0      		rjmp .L16
 206               	.L17:
 207 0152 0E94 0000 		call uart_putc
 208               	.L16:
 209 0156 8991      		ld r24,Y+
 210 0158 8823      		tst r24
 211 015a 01F4      		brne .L17
 212               	/* epilogue start */
 213 015c DF91      		pop r29
 214 015e CF91      		pop r28
 215 0160 FF90      		pop r15
 216 0162 EF90      		pop r14
 217 0164 0895      		ret
 219               	.global	uart_puts_p
 221               	uart_puts_p:
 222 0166 CF93      		push r28
 223 0168 DF93      		push r29
 224               	/* prologue: function */
 225               	/* frame size = 0 */
 226               	/* stack size = 2 */
 227               	.L__stack_usage = 2
 228 016a EC01      		movw r28,r24
 229 016c 00C0      		rjmp .L19
 230               	.L20:
 231 016e 0E94 0000 		call uart_putc
 232               	.L19:
 233 0172 FE01      		movw r30,r28
 234 0174 2196      		adiw r28,1
 235               	/* #APP */
 236               	 ;  426 "uart.c" 1
 237 0176 8491      		lpm r24, Z
 238               		
 239               	 ;  0 "" 2
 240               	/* #NOAPP */
 241 0178 8823      		tst r24
 242 017a 01F4      		brne .L20
 243               	/* epilogue start */
 244 017c DF91      		pop r29
 245 017e CF91      		pop r28
 246 0180 0895      		ret
 248               		.lcomm UART_TxHead,1
 249               		.lcomm UART_TxTail,1
 250               		.lcomm UART_TxBuf,16
 251               		.lcomm UART_RxHead,1
 252               		.lcomm UART_RxTail,1
 253               		.lcomm UART_RxBuf,32
 254               		.lcomm UART_LastRxError,1
 255               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:00000000 uart.c
     /tmp/ccIiaZvw.s:2      *ABS*:0000003f __SREG__
     /tmp/ccIiaZvw.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccIiaZvw.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccIiaZvw.s:5      *ABS*:00000034 __CCP__
     /tmp/ccIiaZvw.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccIiaZvw.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccIiaZvw.s:11     .text:00000000 __vector_20
     /tmp/ccIiaZvw.s:250    .bss:00000012 UART_RxHead
     /tmp/ccIiaZvw.s:251    .bss:00000013 UART_RxTail
     /tmp/ccIiaZvw.s:252    .bss:00000014 UART_RxBuf
     /tmp/ccIiaZvw.s:253    .bss:00000034 UART_LastRxError
     /tmp/ccIiaZvw.s:59     .text:00000056 __vector_21
                             .bss:00000000 UART_TxHead
     /tmp/ccIiaZvw.s:248    .bss:00000001 UART_TxTail
     /tmp/ccIiaZvw.s:249    .bss:00000002 UART_TxBuf
     /tmp/ccIiaZvw.s:105    .text:000000aa uart_init
     /tmp/ccIiaZvw.s:132    .text:000000de uart_getc
     /tmp/ccIiaZvw.s:165    .text:00000114 uart_putc
     /tmp/ccIiaZvw.s:191    .text:0000013e uart_puts
     /tmp/ccIiaZvw.s:221    .text:00000166 uart_puts_p

UNDEFINED SYMBOLS
__do_clear_bss
